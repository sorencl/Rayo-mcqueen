<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filtrar</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <script>
      $(document).ready(function(){
          console.log("inicio correcto"); 

 $("#Buscar").click(function(){


  var valorSeleccionado = $("#tags").val();


  $("#vehiculos").empty();


            var arregloMarcas = [];




              var url = "https://vpic.nhtsa.dot.gov/api/vehicles/GetMakesForVehicleType/car?format=json";

              $.get(url,function(data){

                  $.each(data.Results,function(i,elemento){

                      if(elemento.MakeName == valorSeleccionado )
                      {
                          $("#vehiculos").append("<tr> <td>" + elemento.MakeId + "</td> <td> " + elemento.MakeName + "</td><td>" + elemento.VehicleTypeId + "</td><td>" + elemento.VehicleTypeName + "</td></tr>");
                      }

                        arregloMarcas.push(elemento.MakeName);
                      })

                     $( "#tags" ).autocomplete({ source: arregloMarcas });

              })


})
          $("#filtrar").click(function(){
            var arregloMarcas = [];
              console.log("Prueba Boton");
              var url = "https://vpic.nhtsa.dot.gov/api/vehicles/GetMakesForVehicleType/car?format=json";
              $.get(url,function(data){
                  $.each(data.Results,function(i,elemento){
                      //console.log(elemento);
                      //console.log(elemento.MakeName);
                      //console.log(elemento.VehicleTypeId);
                      //console.log(elemento.VehicleTypeName);
                     $("#vehiculos").append("<tr> <td>" + elemento.MakeId + "</td> <td> " + elemento.MakeName + "</td><td>" + elemento.VehicleTypeId + "</td><td>" + elemento.VehicleTypeName + "</td></tr>");
                     arregloMarcas.push(elemento.MakeName);
                  })

                  $( "#tags" ).autocomplete({ source: arregloMarcas });
              })
          })


      })
  </script>
</head>
<body style="background-color: rgb(141, 161, 180);">
    <div class="container-fluid">
      <div class="container-fluid">
        <div class="row" style="background-color: rgb(4, 0, 252);">
          <div class="col-lg-3">
            <img src="./aaaaa" width="175px" height="100px">
          </div>
        <div class="col-lg-3" style="margin-top: 26px;">
            <div class="btn-group" role="group" aria-label="Basic example">
              <a href="./Nosotros.html" class="btn btn-success boton">Nosotros</a>
              <a href="./fichaContacto.html" class="btn btn-success boton">Contacto</a>
              <a href="./trabajos.html" class="btn btn-success boton">Nuestros trabajos</a>
            </div> 
        </div>
    
            <div class="col-lg-3" style="margin-top: 26px;">
              <nav class="navbar navbar-light bg-light">
                <div class="container-fluid">
                  <form class="d-flex">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Buscar</button>
                  </form>
                </div>
              </nav>
            </div>
    
            <div class="col-lg-3" style="margin-top: 26px;">
              <a class="btn btn-primary"style="float: right" href="./Confirmacion.html" role="button">Perfil</a>
            </div>
            
    
        </div>
    
    
            </div>
            </div>>

<div class="container">
    <div class="row">
        <h1>
            <center>
                 Seleccione su vehiculo   
            </center>

        </h1>
    </div>
    <div class="container-fluid">
      <div class="row">
        <button type="button" id="filtrar" class="btn btn-primary"> Solicitar Datos</button>
        <div style="float: right;">
<div class="row col-lg-10">
<label for="tags">Buscar Vehiculo: </label>
<input id="tags">
<button type="button" id="Buscar" class="btn btn-primary"> Buscar letra</button>
</div>
</div>
  </div>

    </div>
 
    <div class="row">
        <table class="table" id="vehiculos">
            <thead>
                <tr>
                    <th>#id</th>
                    <th>Nombre</th>
                    <th>id Vehiculo</th>
                    <th>Tipo Vehiculo</th>
                </tr>
            </thead>
            <tbody>



            </tbody>
        </table>
    </div>
</div>

<div class="col-lg-12">
  <br>
</br>
  <center>
      <a href="./index.html" class="btn boton ">Volver</a> 
  </center>

</div>
    





<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
</body>
</html>